<div class="bg-gray-800 text-white shadow-md">
  <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <div class="flex items-center">
        <span class="font-bold text-xl">Dynamic Flow Platform</span>
      </div>
      <div class="flex items-center space-x-4">
        <button (click)="activeModule.set('certificates')"
          [class.bg-gray-900]="activeModule() === 'certificates'"
          class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors">
          Certificates Module
        </button>
        <button (click)="activeModule.set('backoffice')"
          [class.bg-gray-900]="activeModule() === 'backoffice'"
          class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors">
          Backoffice
        </button>
      </div>
    </div>
  </nav>
</div>

<main class="min-h-screen container mx-auto p-4 md:p-8">
  @switch (activeModule()) {
    @case ('certificates') {
      <app-certificates-dashboard (runFlowRequest)="runFlow($event)"></app-certificates-dashboard>
    }
    @case ('backoffice') {
      <app-backoffice (runFlowRequest)="runFlow($event)"></app-backoffice>
    }
  }
</main>


@if (isModalOpen()) {
  <app-flow-runner-modal 
    [flow]="selectedFlow()"
    (closeModal)="closeModal()">
  </app-flow-runner-modal>
}